<!DOCTYPE html>
<!-- saved from url=(0165)https://www.xiaomiyoupin.com/search?queryId=f43fb113c4c2cfbb5fbd2aebc1d68c7c&categoryName=%E7%A9%BA%E8%B0%83&pageFrom=category&spmref=YouPinPC.$Home$.list.0.47884794 -->
<html lang="zh-CN" style="font-size: 0px;">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no" />
	<meta name="theme-color" content="#000000" />
	<meta name="description" content="小米有品是小米旗下精品生活电商平台，也是小米“新零售”战略的重要一环。依托小米生态链体系，延续小米的“爆品”模式，致力于将“小米式的性价比”延伸到更广泛的家居生活领域。" />
	<meta name="keywords" content="小米旗下精品生活电商平台,小米旗下精品生活电商,小米电商,小米电商平台,小米精品电商,小米有品,米家有品,精品电商,小米商城,生活电商,小米众筹,小米手机系列小米Note 3,小米5X,小米MIX 2,品质家居,日用,食品,服饰,婴童,箱包" />
	<link rel="manifest" href="https://www.xiaomiyoupin.com/manifest.json" />
	<link rel="shortcut icon" href="https://www.xiaomiyoupin.com/favicon.png" />
	<style>#cnzz_stat_icon_1267968936{display:none}</style>
	<title>小米有品</title>
	<script src="./空调-小米有品_files/hm.js.下载"></script>
	<script src="./空调-小米有品_files/gettimestamp"></script>
	<script type="text/javascript" src="./空调-小米有品_files/StatInfo.js.下载"></script>
	<script>window.zeptoCbs=[],window.registerAfterZepto=function(e){zeptoCbs.push(e)}</script>
	<script type="text/javascript" src="./空调-小米有品_files/youpin-lib10.min.js.下载" id="youpin-lib10"></script>
	<script>var _appName="Microsoft Internet Explorer",_version=window.navigator.appVersion.split(";")[1]&&window.navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE","");window.navigator.appName==_appName&&parseInt(_version)<10&&(window.location.href="/error.html")</script>
	<script>window.WebpSupport=!1;var webP=new Image;webP.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",webP.onload=webP.onerror=function(){window.WebpSupport=2===webP.height}</script>
	<link href="./空调-小米有品_files/main.6e0ccd03.css" rel="stylesheet" />
	<script type="text/javascript" charset="utf-8" async="" src="./空调-小米有品_files/search.bc8b62be.chunk.js.下载"></script>

	<link href="/css/cultural_details_merchant_mycart.079a84ba.css" rel="prefetch">
	<link href="/css/details.27b2fd3b.css" rel="prefetch">
	<link href="/css/details_mycart_orderPay_search.b5f435f0.css" rel="prefetch">
	<link href="/js/cultural_details_merchant_mycart.4022eafb.js" rel="prefetch">
	<link href="/js/details.9caf8576.js" rel="prefetch">
	<link href="/js/details_merchant_submitorder.ecbe09f1.js" rel="prefetch">
	<link href="/js/details_mycart_orderPay_search.bd179746.js" rel="prefetch">
	<link href="/css/app.5ca165e5.css" rel="preload" as="style">
	<link href="/css/chunk-vendors.68bf6ad5.css" rel="preload" as="style">
	<link href="/js/app.06589e7e.js" rel="preload" as="script">
	<link href="/js/chunk-vendors.89a26db2.js" rel="preload" as="script">
	<link rel="stylesheet" type="text/css" href="/css/details_mycart_orderPay_search.b5f435f0.css">
	<link rel="stylesheet" href="/layui/css/layui.css" />
	<script charset="utf-8" src="/js/details_mycart_orderPay_search.bd179746.js"></script>
	<link rel="stylesheet" type="text/css" href="/css/cultural_details_merchant_mycart.079a84ba.css">
	<script charset="utf-8" src="/js/cultural_details_merchant_mycart.4022eafb.js"></script>
	<script charset="utf-8" src="/js/details_merchant_submitorder.ecbe09f1.js"></script>
	<link rel="stylesheet" type="text/css" href="/css/details.27b2fd3b.css">
	<link rel="stylesheet" href="/css/rep.css">
	<script charset="utf-8" src="/js/details.9caf8576.js"></script>
	<!--<link href="/css/chunk-vendors.68bf6ad5.css" rel="stylesheet">-->
	<!--<link href="/css/app.5ca165e5.css" rel="stylesheet">-->
</head>
<body>
<noscript>
	You need to enable JavaScript to run.
</noscript>
<div id="root">
	<div class="search-wrap" id="app">
		<!--登录注册的弹框-->

		<div data-v-0fa58336=""  id="loginDiv2" class="el-dialog__wrapper login-or-register-box" style="display: none;">

			<div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top: 15vh; width: 862px;">
				<div class="el-dialog__header"><span class="el-dialog__title"></span>
					<button @click="close" type="button" aria-label="Close" class="el-dialog__headerbtn">×</button></div>
				<div class="el-dialog__body">
					<div data-v-0fa58336="" class="flex-row">
						<div data-v-0fa58336="" class="left-img flex-grow-0"><img data-v-0fa58336="" src="/img/denglu1.png"
																				  alt=""></div>
						<div data-v-0fa58336="" class="login-box flex-grow-1">
							<div data-v-0fa58336="" class="store-logo"><img data-v-0fa58336="" src="/img/logo1.png"
																			alt=""></div>
							<form v-if="loginAndRegist=='login'" data-v-0fa58336="" style="">
								<div data-v-0fa58336="" class="input-list"><input v-model="inputUser.username" data-v-0fa58336="" type="text" placeholder="账号"></div>
								<div data-v-0fa58336="" class="input-list"><input v-model="inputUser.password" data-v-0fa58336="" type="password" placeholder="密码"></div>
								<div data-v-0fa58336="" class="notice clearfix"><span data-v-0fa58336="" class="fl red"></span><span
										data-v-0fa58336="" class="fr" style="cursor: pointer;">忘记密码</span></div>
								<button @click="doLogin" data-v-0fa58336="" type="button" class="login-btn">登录</button>
								<!--点击注册，切换到注册页-->
								<p @click="changeButton"  data-v-0fa58336="" class="typedesc">注册</p>
								<p data-v-0fa58336="">登录注册表示同意《<a data-v-0fa58336="" href="javascript:void(0)" style="color: rgb(111, 165, 250);">使用协议</a>和<a
										data-v-0fa58336="" href="javascript:void(0)" style="color: rgb(111, 165, 250);">隐私政策</a>》</p>
							</form>
							<form v-else data-v-0fa58336="">
								<div data-v-0fa58336="" class="input-list phone-input">
									<label data-v-0fa58336="">+86</label>
									<input v-model="inputUser.username"  data-v-0fa58336="" type="text" placeholder="请输入手机号">
								</div>
								<div data-v-0fa58336="" class="input-list code-box">
									<input v-model="inputUser.password"  data-v-0fa58336="" style="float: left" type="password" placeholder="请输入密码">
								</div>
								<div data-v-0fa58336="" class="notice clearfix">
									<span data-v-0fa58336="" class="fl red"></span>
								</div>
								<button @click="doRegist"  data-v-0fa58336="" type="button" class="login-btn">注册</button>
								<!--点击登录，切换到登录页-->
								<p @click="changeButton"  data-v-0fa58336="" class="typedesc">登录</p><p data-v-0fa58336="">登录注册表示同意《<a data-v-0fa58336="" href="javascript:void(0)" style="color: rgb(111, 165, 250);">使用协议</a>和<a data-v-0fa58336="" href="javascript:void(0)" style="color: rgb(111, 165, 250);">隐私政策</a>》</p>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="m-site-top">
			<div class="container clearfix">
				<div class="fr">
					<div class="fl site-item m-user-con">
						<div class="m-no-login">
							<!--<a href="https://www.xiaomiyoupin.com/search?queryId=f43fb113c4c2cfbb5fbd2aebc1d68c7c&amp;categoryName=%E7%A9%BA%E8%B0%83&amp;pageFrom=category&amp;spmref=YouPinPC.$Home$.list.0.47884794#" class="m-safe-anchor">登录</a>-->
							<!--<a href="https://www.xiaomiyoupin.com/search?queryId=f43fb113c4c2cfbb5fbd2aebc1d68c7c&amp;categoryName=%E7%A9%BA%E8%B0%83&amp;pageFrom=category&amp;spmref=YouPinPC.$Home$.list.0.47884794#" class="m-safe-anchor">注册</a>-->
						</div>
					</div>
					<span class="fl m-line"></span>
					<div class="fl m-help">
						<a rel="noopener noreferrer" target="_blank" href="https://www.xiaomiyoupin.com/help" class="m-safe-anchor">帮助中心</a>
					</div>
					<span class="fl m-line"></span>
					<div class="fl m-download site-item">
						<a href="https://www.xiaomiyoupin.com/download" target="_blank" class="m-safe-anchor h-icon-con"><span class="m-icons m-icons- h-icons h-app-icon m-icons-app" data-src="" href=""></span>下载 APP</a>
					</div>
					<span class="fl m-line"></span>
					<div class="fl m-clauses-con">
						<div class="m-clauses">
							<a rel="noopener noreferrer" target="_blank" href="https://www.xiaomiyoupin.com/search?queryId=f43fb113c4c2cfbb5fbd2aebc1d68c7c&amp;categoryName=%E7%A9%BA%E8%B0%83&amp;pageFrom=category&amp;spmref=YouPinPC.$Home$.list.0.47884794#" class="m-safe-anchor">资质证照&nbsp;/&nbsp;协议规则</a>
							<span class="m-icons m-icons-dropdown h-icons h-down-icon" data-src="" href=""></span>
						</div>
						<div class="site-item-nav hidden">
							<ul class="site-nav">
								<li><a rel="nofollow" data-target="_blank" target="_blank" data-src="资质证照" href="https://youpin.mi.com/app/shop/content?id=sb0b29039bf5892b5" class="m-safe-anchor">资质证照</a></li>
								<li><a rel="nofollow" data-target="_blank" target="_blank" data-src="协议规则" href="https://youpin.mi.com/app/shop/content?id=t58169039fac3a096" class="m-safe-anchor">协议规则</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="m-header clearfix">
			<div class="" >
				<div class="container" >
					<div class="clearfix m-header-top">
						<div class="m-logo m-tag-a" data-src="/"></div>
						<div class="nav-part"></div>
						<ul class="tab-list">
							<li data-src="https://m.xiaomiyoupin.com/w/secbuy?_rt=weex&amp;activity_id=5" class="tab-item">限时抢购</li>
							<li data-src="https://m.xiaomiyoupin.com/w/mifans?_rt=weex&amp;pageid=3154" class="tab-item">企业采购</li>
						</ul>
						<div class="m-card-wrap fr">
							<div class="m-card-mini">
								<a class="m-icons m-icons-cart-hover " data-src="" href="javascript:;"></a>
							</div>
						</div>
						<div class="m-search">
							<div class="search-form ">
								<a class="m-icons m-icons-search-hover search-icon" data-src="" href="javascript:;"></a>
								<div class="m-autocomplete search-input-con">
									<input type="text" value="" placeholder="搜一搜" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="p-search-result">
			<div class="container">
				<div>
					<div>
						<!--<div class="search-tit">-->
							<!--为您找到-->
							<!--<span class="num">47</span>条结果-->
						<!--</div>-->
						<div class="m-product-list  clearfix">
							<template v-for="book in dataShow">
								<div class="pro-item m-tag-a " data-src="/detail?gid=119524" data-target="_blank" @click="gotoDetail(book.productId)">
									<div class="pro-img m-img-hover">
										<img class="" :src="book.imageUrl" style="margin-top: 0px;" />
									</div>
									<div class="pro-tags-con"></div>
									<p class="pro-info" title="云米智能空调iCool 1A">{{book.productName}}</p>
									<p class="pro-desc" title="大1匹快速制冷|适用面积10-16㎡">{{book.introduce}}</p>
									<p class="pro-price"><span class="pro-unit"></span><span class="m-num">￥{{book.price}}</span></p>
								</div>
							</template>
						</div>
					</div>
					<div class="search-pagination">
						<nav class="m-pagination-box">
							<ul class="m-pagination">
								<li class="m-pagination-item" type="button"  @click="prevPage" class="btn-prev"><a class="m-safe-anchor"><span>上一页</span></a></li>
								<li class="m-pagination-item" style="cursor: pointer" :class="currPage+1==i?  'active': '' " v-for="i in totalPage"><a class="m-safe-anchor"   @click="changePage(i)">{{i}}</a></li>
								<li class="m-pagination-item" type="button"  @click="nextPage" class="btn-next"><a class="m-safe-anchor"><span>下一页</span></a></li>
							</ul>

						</nav>
					</div>
				</div>
			</div>
		</div>
		<div class="m-footer">
			<div class="container clearfix">
				<div class="fl m-f-logo">
					<img src="./空调-小米有品_files/logo@2x.cf8cc6a8.png" alt="logo" />
				</div>
				<div class="f-info fr">
					<div class="f-icons">
						<a href="https://www.xiaomiyoupin.com/app/shop/content?id=na056d0394b93a391"><img src="./空调-小米有品_files/f-logo.c6285587.png" /></a>
					</div>
					<div>
						<p class="footer-item"><span>&copy;xiaomiyoupin.com </span><span>苏B2-20180351 苏ICP备18025642号-1 </span><img src="./空调-小米有品_files/record-icon.d0289dc0.png" alt="logo" style="width: 15px; height: 15px; vertical-align: -3px;" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32010502010244" target="_blank" rel="noopener noreferrer">苏公网安备 32010502010244号 </a></p>
						<p class="footer-item"><span>企业名称：有品信息科技有限公司 </span><a href="https://www.xiaomiyoupin.com/app/shop/content?id=qf58f1039488314e3" target="_blank" rel="noopener noreferrer">关于我们 </a><a href="https://zhaoshang.xiaomiyoupin.com/" target="_blank" rel="noopener noreferrer">入驻有品 </a><a href="https://www.mi.com/intellectual?channel=xiaomiyoupin" target="_blank" rel="noopener noreferrer">知识产权侵权投诉 </a></p>
						<p class="footer-item"><a href="https://www.xiaomiyoupin.com/app/shop/content?id=s2426f03987ef05b5" target="_blank" rel="noopener noreferrer">小米有品平台运营主体变更公告 </a></p>
						<p class="footer-item"><span>南京市建邺区白龙江东街8号3栋9层 </span></p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript" src="/js/vue.js"></script>
<script type="text/javascript" src="/js/axios.min.js" ></script>
<script type="text/javascript">
    var vm = new Vue({
        el:"#app",
        data:{
            tname:"",//类型名称
            books:[],//当前类型下所有的图书集合
            pageSize:3,//每页显示条数
            totalPage:0,//当前列表的页数
            pageBooks:[],//二维数组
            currPage:0,//当前页的页码,设置从0开始的目的是跟pageBooks的下标对应起来
            dataShow:[],//当前页显示的所有数据
            loginAndRegist:"login",//控制登录注册表单切换的变量,默认是登录页面
            inputUser:{
                username:"",//手机号
                password:""//密码
            },
            loginUser:null //存储登录成功之后的用户信息
        },
        mounted:function () {
            var loginUser =  window.sessionStorage.getItem("loginUser");
            if(loginUser!=null){
                this.loginUser = JSON.parse(loginUser)
            }
            // var tid = window.localStorage.getItem("tid");
            // var tname = window.localStorage.getItem("tname");
            var type = window.localStorage.getItem("type");
            //1.----将type这个字符串转换为json数据格式
            type = JSON.parse(type);
            //this:表示当前对象
            this.tname = type.tname;
            var that = this;
            //2.----根据类型id查询当前类型下所有的商品
            axios.get("/products/getListById",{
                params:{
                    tid:type.tid
                }
            })
                .then(function (res) {
                    //异步请求的回调函数中 this已经不是当前vue这个实例了，所以可以使用如下两种方式
                    // a. 使用vm
                    // b. 在this没变之前使用that记录，直接使用that
                    that.books = res.data.data;
                    // 3.-----计算分页的页数
                    //    Math.ceil:向上取整
                    that.totalPage = that.books.length%that.pageSize==0?that.books.length/that.pageSize:Math.ceil(that.books.length/that.pageSize)
                    // 4.-----将所有的商品按照页码拆开成二维数组，数组中的每个元素都是每页所对应的商品数据
                    // 目标数据： pageBooks:[
                    //     	[1,2,3],// 第一页
                    // 		[4,5,6],// 第二页
                    // 		[7,8,9] // 第三页
                    // 	]
                    for (var i=0;i<that.totalPage;i++){
                        // 数组.slice(a,b): 截取数组的元素，从a截到b,左闭右开区间
                        //  pageBooks的第一个元素： 下标取值[0,3)的数组(前三个)
                        //  pageBooks的第二个元素： 下标取值[3,6)的数组(接着取三个)
                        //  pageBooks的第三个元素： 下标取值[6,9)的数组(接着取三个，取不满直接结束)
                        //
                        that.pageBooks[i] = that.books.slice(i*that.pageSize,(i+1)*that.pageSize);
                    }
                    //5. 根据页码作为下标获取pageBooks中对应要显示的数据
                    that.dataShow = that.pageBooks[that.currPage];
                })
        },

        methods:{
            //点击页码改变
            changePage:function (i) {
                //修改当前页的页码
                this.currPage = i-1;
                //根据修改之后的当前页码获取对应的数据
                this.dataShow = this.pageBooks[this.currPage];
            },
            //点击上一页
            prevPage:function () {
                //当前页码减一
				if(this.currPage!=0)
                this.dataShow = this.pageBooks[--this.currPage];
            },
            //点击下一页
            nextPage:function () {
                //当前页码加一
                if(this.currPage!=this.totalPage-1)
                this.dataShow = this.pageBooks[++this.currPage];
            },

            //点击将图书id传到详情页面
            gotoDetail:function (bid) {
                window.localStorage.setItem("bid",bid);
                window.location.href="/pages/book_detail.html";
            },
            //切换登录注册两个表单的方法
            changeButton: function () {
                this.loginAndRegist = this.loginAndRegist == "login" ? "regist" : "login";
            },
            //点击注册
            doRegist: function () {
                //目标：将用户输入的数据提交到后台，判断校验并添加
                //1. 判断用户输入的数据是否合法
                var regex = /^1[3|5|7|8]\d{9}$/;     //编写手机号正则
                if (!regex.test(this.inputUser.username) || this.inputUser.password == "") {//使用正则的test方法返回值为true或者false，判断是否满足正则
                    alert("注册信息不完善");
                } else {
                    //将用户数据提交到后台
                    axios.post("/users/regist", this.inputUser)
                        .then(function (res) {
                            //根据返回的状态码进行判断
                            if (res.data.code == 0) {
                                alert(res.data.msg);
                                //隐藏注册弹框
                                document.getElementById("loginDiv2").style.display = "none";
                            } else {
                                alert(res.data.msg);
                            }
                        })
                }
            },
            //点击登录
            doLogin: function () {
                axios.post("/users/login", this.inputUser)
                    .then(function (res) {
                        if (res.data.code == 0) {
                            //登录成功
                            //隐藏登录提示框
                            document.getElementById("loginDiv2").style.display = "none";
                            //使用会话级别存储数据的对象  sessionStorage
                            // sessionStorage也不可以直接存储json对象
                            window.sessionStorage.setItem("loginUser", JSON.stringify(res.data.data))
                            //将登录成功返回的用户对象赋值给vm.loginUser
                            vm.loginUser = res.data.data;
                        } else {
                            alert(res.data.msg);
                        }
                    })
            },
            //点击X号关闭登录弹框
            close: function () {
                document.getElementById("loginDiv2").style.display = "none";
            },
            //退出
            doExit: function () {
                axios.post("/users/exit")
                    .then(function (res) {
                        if (res.data.code == 0) {
                            alert(res.data.msg);
                            window.sessionStorage.removeItem("loginUser");
                            vm.loginUser = null;
                        }
                    })
            },
            //跳转到登录页面
            login: function () {
                document.getElementById("loginDiv2").style.display = "block";
            }
        }
    })
</script>
</body>
</html>